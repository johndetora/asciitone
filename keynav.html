<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./styles/keynav.css">
    <title>hotkeys</title>
</head>

<body>
    <div id="box1" class="box" style="background-color: burlywood;">box 1</div>
    <div id="box2" class="box" style="background-color: lightcoral;">box 2</div>
    <div id="box3" class="box" style="background-color: rgb(32, 113, 218);">box 3</div>

    <pre id="keeb">
        ,---,---,---,---,---,---,---,---,---,---,---,---,---,-------,
        | ~ | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 0 | [ | ] | <-    |
        |---'-,-'-,-'-,-'-,-'-,-'-,-'-,-'-,-'-,-'-,-'-,-'-,-'-,-----|
        | ->| | " | , | . | P | Y | F | G | C | R | L | / | = |  \  |
        |-----',--',--',--',--',--',--',--',--',--',--',--',--'-----|
        | Caps | A | O | E | U | I | D | H | T | N | S | - |  Enter |
        |------'-,-'-,-'-,-'-,-'-,-'-,-'-,-'-,-'-,-'-,-'-,-'--------|
        |        | ; | Q | J | K | X | B | M | W | V | Z |          |
        |------,-',--'--,'---'---'---'---'---'---'-,-'---',--,------|
        | ctrl |  | alt |                          | alt  |  | ctrl |
        '------'  '-----'--------------------------'------'  '------'

    </pre>
    <script>
        window.addEventListener('keydown', keyDownHandler, false);
        window.addEventListener('keyup', keyUpHandler, false);
        // Log keys object
        window.addEventListener('keydown', (event) => {
            if (event.key === 'Enter') {
                console.log(keys)
            }
        })

        const box1 = document.getElementById('box1')
        const box2 = document.getElementById('box2')
        const box3 = document.getElementById('box3')

        const keys = {
            shiftPressed: false,
            leftPressed: false,
            downPressed: false,
            upPressed: false,
            rightPressed: false,
        }

        function keyDownHandler(event) {
            console.log(event)
            if (event.key == "Shift") {
                keys.shiftPressed = true;
            }
            else if (event.key == "ArrowLeft") {
                keys.leftPressed = true;
            }
            else if (event.key == "ArrowDown") {
                keys.downPressed = true;
            }
            else if (event.key == "ArrowUp") {
                keys.upPressed = true;
            }
            else if (event.key == "ArrowRight") {
                keys.rightPressed = true;
            }
        }

        function keyUpHandler(event) {
            console.log(event)
            if (event.key == "Shift") {
                keys.shiftPressed = false;
            }
            else if (event.key == "ArrowLeft") {
                keys.leftPressed = false;

            }
            else if (event.key == "ArrowDown") {
                keys.downPressed = false;

            }
            else if (event.key == "ArrowUp") {
                keys.upPressed = false;
            }
            else if (event.key == "ArrowRight") {
                keys.rightPressed = false;
            }
        }


        let index = 0;

        console.log(index)
        function select() {
            const boxes = document.querySelectorAll('.box')
            if (index >= 0 && index < 3) {
                if (shiftPressed && downPressed) {
                    boxes[index].style.backgroundColor = 'black'
                    index++;
                    console.log('index is ' + index)
                }
                if (shiftPressed && upPressed) {
                    boxes[index].style.backgroundColor = 'gray'
                    index--;
                    console.log('index is ' + index)

                }
            }
            if (!shiftPressed) {

                boxes.forEach((item, index) => {
                    boxes[index].style.backgroundColor = 'gray'
                })
                selection = false;
                index = 0;
            }

        }

        // function colorChange(selection) {
        //     let index = 1;
        //     const boxes = document.querySelectorAll('.box')
        //     console.log(boxes)
        //     if (shiftPressed && rightPressed) {
        //         console.log('shift + right')
        //     }

        // }



    </script>

</body>

</html>